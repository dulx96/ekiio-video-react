{"version":3,"file":"ekiio-video-react.full.js","sources":["../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/classnames/index.js","../node_modules/symbol-observable/es/ponyfill.js","../node_modules/symbol-observable/es/index.js","../node_modules/redux/es/redux.js","../src/actions/video.js","../src/utils/fullscreen.js","../src/actions/player.js","../src/reducers/player.js","../src/reducers/operation.js","../src/reducers/index.js","../src/Manager.js","../src/utils/index.js","../src/components/Video.js","../src/components/control-bar/PlayToggle.js","../src/components/ClickableComponent.js","../src/utils/dom.js","../src/components/Slider.js","../src/components/volume-control/VolumeLevel.js","../src/components/volume-control/VolumeBar.js","../src/components/control-bar/VolumeMenuButton.js","../src/components/control-bar/PlayProgressBar.js","../src/components/control-bar/LoadProgressBar.js","../src/components/control-bar/MouseTimeDisplay.js","../src/components/control-bar/SeekBar.js","../src/components/control-bar/ProgressControl.js","../src/components/control-bar/FullscreenToggle.js","../src/components/control-bar/SettingToggle.js","../src/components/time-controls/CurrentTimeDisplay.js","../src/components/time-controls/DurationDisplay.js","../src/components/control-bar/ControlBar.js","../src/utils/browser.js","../src/components/Shortcut.js","../src/components/LoadingSpinner.js","../src/components/BigPlayButton.js","../src/components/Bezel.js","../src/components/Player.js","../src/components/settting-popup/ToggleSubVi.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar ActionTypes = {\n  INIT: '@@redux/INIT' + Math.random().toString(36).substring(7).split('').join('.'),\n  REPLACE: '@@redux/REPLACE' + Math.random().toString(36).substring(7).split('').join('.')\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object' || obj === null) return false;\n\n  var proto = obj;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.REPLACE });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if ((typeof observer === 'undefined' ? 'undefined' : _typeof(observer)) !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && 'action \"' + String(actionType) + '\"' || 'an action';\n\n  return 'Given ' + actionDescription + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning('No reducer provided for key \"' + key + '\"');\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if ((typeof actionCreators === 'undefined' ? 'undefined' : _typeof(actionCreators)) !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators === 'undefined' ? 'undefined' : _typeof(actionCreators)) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var store = createStore.apply(undefined, args);\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(undefined, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning(\"You are currently using minified code outside of NODE_ENV === 'production'. \" + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose, ActionTypes as __DO_NOT_USE__ActionTypes };\n","export const LOAD_START = 'video-react/LOAD_START'\nexport const CAN_PLAY = 'video-react/CAN_PLAY'\nexport const WAITING = 'video-react/WAITING'\nexport const CAN_PLAY_THROUGH = 'video-react/CAN_PLAY_THROUGH'\nexport const PLAYING = 'video-react/PLAYING'\nexport const PLAY = 'video-react/PLAY'\nexport const PAUSE = 'video-react/PAUSE'\nexport const END = 'video-react/END'\nexport const SEEKING = 'video-react/SEEKING'\nexport const SEEKED = 'video-react/SEEKED'\nexport const SEEKING_TIME = 'video-react/SEEKING_TIME'\nexport const END_SEEKING = 'video-react/END_SEEKING'\nexport const DURATION_CHANGE = 'video-react/DURATION_CHANGE'\nexport const TIME_UPDATE = 'video-react/TIME_UPDATE'\nexport const VOLUME_CHANGE = 'video-react/VOLUME_CHANGE'\nexport const PROGRESS_CHANGE = 'video-react/PROGRESS_CHANGE'\nexport const RATE_CHANGE = 'video-react/RATE_CHANGE'\nexport const SUSPEND = 'video-react/SUSPEND'\nexport const ABORT = 'video-react/ABORT'\nexport const EMPTIED = 'video-react/EMPTIED'\nexport const STALLED = 'video-react/STALLED'\nexport const LOADED_META_DATA = 'video-react/LOADED_META_DATA'\nexport const LOADED_DATA = 'video-react/LOADED_DATA'\nexport const RESIZE = 'video-react/RESIZE'\nexport const ERROR = 'video-react/ERROR'\n\nexport function handleLoadStart (videoProps) {\n  return {\n    type: LOAD_START,\n    videoProps,\n  }\n}\n\nexport function handleCanPlay (videoProps) {\n  return {\n    type: CAN_PLAY,\n    videoProps,\n  }\n}\n\nexport function handleWaiting (videoProps) {\n  return {\n    type: WAITING,\n    videoProps,\n  }\n}\n\nexport function handleCanPlayThrough (videoProps) {\n  return {\n    type: CAN_PLAY_THROUGH,\n    videoProps,\n  }\n}\n\nexport function handlePlaying (videoProps) {\n  return {\n    type: PLAYING,\n    videoProps,\n  }\n}\n\nexport function handlePlay (videoProps) {\n  return {\n    type: PLAY,\n    videoProps,\n  }\n}\n\nexport function handlePause (videoProps) {\n  return {\n    type: PAUSE,\n    videoProps,\n  }\n}\n\nexport function handleEnd (videoProps) {\n  return {\n    type: END,\n    videoProps,\n  }\n}\n\nexport function handleSeeking (videoProps) {\n  return {\n    type: SEEKING,\n    videoProps,\n  }\n}\n\nexport function handleSeeked (videoProps) {\n  return {\n    type: SEEKED,\n    videoProps,\n  }\n}\n\nexport function handleDurationChange (videoProps) {\n  return {\n    type: DURATION_CHANGE,\n    videoProps,\n  }\n}\n\nexport function handleTimeUpdate (videoProps) {\n  return {\n    type: TIME_UPDATE,\n    videoProps,\n  }\n}\n\nexport function handleVolumeChange (videoProps) {\n  return {\n    type: VOLUME_CHANGE,\n    videoProps,\n  }\n}\n\nexport function handleProgressChange (videoProps) {\n  return {\n    type: PROGRESS_CHANGE,\n    videoProps,\n  }\n}\n\nexport function handleRateChange (videoProps) {\n  return {\n    type: RATE_CHANGE,\n    videoProps,\n  }\n}\n\nexport function handleSuspend (videoProps) {\n  return {\n    type: SUSPEND,\n    videoProps,\n  }\n}\n\nexport function handleAbort (videoProps) {\n  return {\n    type: ABORT,\n    videoProps,\n  }\n}\n\nexport function handleEmptied (videoProps) {\n  return {\n    type: EMPTIED,\n    videoProps,\n  }\n}\n\nexport function handleStalled (videoProps) {\n  return {\n    type: STALLED,\n    videoProps,\n  }\n}\n\nexport function handleLoadedMetaData (videoProps) {\n  return {\n    type: LOADED_META_DATA,\n    videoProps,\n  }\n}\n\nexport function handleLoadedData (videoProps) {\n  return {\n    type: LOADED_DATA,\n    videoProps,\n  }\n}\n\nexport function handleResize (videoProps) {\n  return {\n    type: RESIZE,\n    videoProps,\n  }\n}\n\nexport function handleError (videoProps) {\n  return {\n    type: ERROR,\n    videoProps,\n  }\n}\n\nexport function handleSeekingTime (time) {\n  return {\n    type: SEEKING_TIME,\n    time,\n  }\n}\n\nexport function handleEndSeeking (time) {\n  return {\n    type: END_SEEKING,\n    time,\n  }\n}\n","class Fullscreen {\n  request(elm) {\n    if (elm.requestFullscreen) {\n      elm.requestFullscreen();\n    } else if (elm.webkitRequestFullscreen) {\n      elm.webkitRequestFullscreen();\n    } else if (elm.mozRequestFullScreen) {\n      elm.mozRequestFullScreen();\n    } else if (elm.msRequestFullscreen) {\n      elm.msRequestFullscreen();\n    }\n  }\n\n  exit() {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    }\n  }\n\n  get isFullscreen() {\n    return (\n      document.fullscreenElement ||\n      document.webkitFullscreenElement ||\n      document.mozFullScreenElement ||\n      document.msFullscreenElement\n    );\n  }\n\n  get enabled() {\n    return (\n      document.fullscreenEnabled ||\n      document.webkitFullscreenEnabled ||\n      document.mozFullScreenEnabled ||\n      document.msFullscreenEnabled\n    );\n  }\n\n  addEventListener(handler) {\n    document.addEventListener('fullscreenchange', handler);\n    document.addEventListener('webkitfullscreenchange', handler);\n    document.addEventListener('mozfullscreenchange', handler);\n    document.addEventListener('MSFullscreenChange', handler);\n  }\n\n  removeEventListener(handler) {\n    document.removeEventListener('fullscreenchange', handler);\n    document.removeEventListener('webkitfullscreenchange', handler);\n    document.removeEventListener('mozfullscreenchange', handler);\n    document.removeEventListener('MSFullscreenChange', handler);\n  }\n\n}\n\nexport default new Fullscreen();\n","import fullscreen from '../utils/fullscreen';\n\nexport const OPERATE = 'video-react/OPERATE';\nexport const FULLSCREEN_CHANGE = 'video-react/FULLSCREEN_CHANGE';\nexport const PLAYER_ACTIVATE = 'video-react/PLAYER_ACTIVATE';\nexport const USER_ACTIVATE = 'video-react/USER_ACTIVATE';\n\nexport function handleFullscreenChange(isFullscreen) {\n  return {\n    type: FULLSCREEN_CHANGE,\n    isFullscreen\n  };\n}\n\nexport function activate(activity) {\n  return {\n    type: PLAYER_ACTIVATE,\n    activity,\n  };\n}\n\nexport function userActivate(activity) {\n  return {\n    type: USER_ACTIVATE,\n    activity,\n  };\n}\n\nexport function play(operation = {\n  action: 'play',\n  source: ''\n}) {\n  this.video.play();\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function pause(operation = {\n  action: 'pause',\n  source: ''\n}) {\n  this.video.pause();\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function togglePlay(operation = {\n  action: 'toggle-play',\n  source: ''\n}) {\n  this.video.togglePlay();\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\n// seek video by time\nexport function seek(time, operation = {\n  action: 'seek',\n  source: ''\n}) {\n  this.video.seek(time);\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\n// jump forward x seconds\nexport function forward(seconds, operation = {\n  action: `forward-${seconds}`,\n  source: ''\n}) {\n  this.video.forward(seconds);\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\n// jump back x seconds\nexport function replay(seconds, operation = {\n  action: `replay-${seconds}`,\n  source: ''\n}) {\n  this.video.replay(seconds);\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function changeRate(rate, operation = {\n  action: 'change-rate',\n  source: ''\n}) {\n  this.video.playbackRate = rate;\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function changeVolume(volume, operation = {\n  action: 'change-volume',\n  source: ''\n}) {\n  let v = volume;\n  if (volume < 0) {\n    v = 0;\n  }\n  if (volume > 1) {\n    v = 1;\n  }\n  this.video.volume = v;\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function mute(muted, operation = {\n  action: muted ? 'muted' : 'unmuted',\n  source: ''\n}) {\n  this.video.muted = muted;\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function toggleFullscreen(player) {\n  if (fullscreen.enabled) {\n    if (fullscreen.isFullscreen) {\n      fullscreen.exit();\n    } else {\n      fullscreen.request(this.rootElement);\n    }\n    return {\n      type: OPERATE,\n      operation: {\n        action: 'toggle-fullscreen',\n        source: ''\n      }\n    };\n  }\n\n  return {\n    type: FULLSCREEN_CHANGE,\n    isFullscreen: !player.isFullscreen\n  };\n}\n","import {\n  LOAD_START, CAN_PLAY,\n  WAITING, CAN_PLAY_THROUGH, PLAYING,\n  PLAY, PAUSE, END, SEEKING, SEEKED,\n  SEEKING_TIME, END_SEEKING, DURATION_CHANGE,\n  TIME_UPDATE, VOLUME_CHANGE, PROGRESS_CHANGE,\n  RATE_CHANGE, SUSPEND, ABORT, EMPTIED,\n  STALLED, LOADED_META_DATA, LOADED_DATA,\n  RESIZE, ERROR\n} from '../actions/video';\nimport { FULLSCREEN_CHANGE, PLAYER_ACTIVATE, USER_ACTIVATE } from '../actions/player';\n\nconst initialState = {\n  currentSrc: null,\n  duration: 0,\n  currentTime: 0,\n  seekingTime: 0,\n  buffered: null,\n  waiting: false,\n  seeking: false,\n  paused: true,\n  autoPaused: false,\n  ended: false,\n  playbackRate: 1,\n  muted: false,\n  volume: 1,\n  readyState: 0,\n  networkState: 0,\n  videoWidth: 0,\n  videoHeight: 0,\n  hasStarted: false,\n  userActivity: false, //todo different with original\n  isActive: false,\n  isFullscreen: false,\n};\n\nexport function player(state = initialState, action) {\n  switch (action.type) {\n    case USER_ACTIVATE:\n      return {\n        ...state,\n        userActivity: action.activity\n      };\n    case PLAYER_ACTIVATE:\n      return {\n        ...state,\n        isActive: action.activity\n      };\n    case FULLSCREEN_CHANGE:\n      return {\n        ...state,\n        isFullscreen: !!action.isFullscreen,\n      };\n    case SEEKING_TIME:\n      return {\n        ...state,\n        seekingTime: action.time\n      };\n    case END_SEEKING:\n      return {\n        ...state,\n        seekingTime: 0,\n      };\n    case LOAD_START:\n      return {\n        ...state,\n        ...action.videoProps,\n        hasStarted: false,\n        ended: false,\n      };\n    case CAN_PLAY:\n      return {\n        ...state,\n        ...action.videoProps,\n        waiting: false,\n      };\n    case WAITING:\n      return {\n        ...state,\n        ...action.videoProps,\n        waiting: true\n      };\n    case CAN_PLAY_THROUGH:\n    case PLAYING:\n      return {\n        ...state,\n        ...action.videoProps,\n        waiting: false\n      };\n    case PLAY:\n      return {\n        ...state,\n        ...action.videoProps,\n        ended: false,\n        paused: false,\n        autoPaused: false,\n        waiting: false,\n        hasStarted: true,\n      };\n    case PAUSE:\n      return {\n        ...state,\n        ...action.videoProps,\n        paused: true\n      };\n    case END:\n      return {\n        ...state,\n        ...action.videoProps,\n        ended: true\n      };\n    case SEEKING:\n      return {\n        ...state,\n        ...action.videoProps,\n        seeking: true\n      };\n    case SEEKED:\n      return {\n        ...state,\n        ...action.videoProps,\n        seeking: false\n      };\n    case ERROR:\n      return {\n        ...state,\n        ...action.videoProps,\n        error: 'UNKNOWN ERROR',\n        ended: true\n      };\n    case DURATION_CHANGE:\n    case TIME_UPDATE:\n    case VOLUME_CHANGE:\n    case PROGRESS_CHANGE:\n    case RATE_CHANGE:\n    case SUSPEND:\n    case ABORT:\n    case EMPTIED:\n    case STALLED:\n    case LOADED_META_DATA:\n    case LOADED_DATA:\n    case RESIZE:\n      const newState = {\n        ...state,\n        ...action.videoProps,\n      };\n      if (action.videoProps.paused === false) {\n        newState.hasStarted = true;\n        newState.waiting = false;\n      }\n      return newState;\n    default:\n      return state;\n  }\n}\n\nexport default player;\n","import { OPERATE } from '../actions/player'\n\nconst initialState = {\n  count: 0,\n  operation: {\n    action: '',\n    source: '',\n  },\n}\n\nexport function operation (state = initialState, action) {\n  switch (action.type) {\n    case OPERATE:\n      return {\n        ...state,\n        count: state.count + 1,\n        operation: {\n          ...state.operation,\n          ...action.operation,\n        },\n      }\n    default:\n      return state\n  }\n}\n\nexport default operation\n","import { default as player } from './player';\nimport { default as operation } from './operation';\n\nexport default function (state = {}, action) {\n  return {\n    player: player(state.player, action),\n    operation: operation(state.operation, action),\n  };\n}\n\nexport const playerReducer = player;\nexport const operationReducer = operation;\n","import { createStore } from 'redux'\nimport reducer from './reducers'\nimport * as playerActions from './actions/player'\nimport * as videoActions from './actions/video'\n\nexport default class Manager {\n  constructor (store) {\n    this.store = store || createStore(reducer)\n\n    this.video = null\n    this.rootElement = null\n  }\n\n  getActions () {\n    const manager = this\n    const {dispatch} = this.store\n    const actions = {\n      ...playerActions,\n      ...videoActions,\n    }\n\n    function bindActionCreator (actionCreator) {\n      return function bindAction () {\n        // eslint-disable-next-line prefer-rest-params\n        const action = actionCreator.apply(manager, arguments)\n        if (typeof action !== 'undefined') {\n          dispatch(action)\n        }\n      }\n    }\n\n    return Object.keys(actions).filter(\n      key => typeof actions[key] === 'function',\n    ).reduce((boundActions, key) => {\n      boundActions[key] = bindActionCreator(actions[key])\n      return boundActions\n    }, {})\n  }\n\n  getState () {\n    return this.store.getState()\n  }\n\n  // subscribe state change\n  subscribeToStateChange (listener, getState) {\n    if (!getState) {\n      getState = this.getState.bind(this)\n    }\n\n    let prevState = getState()\n\n    const handleChange = () => {\n      const state = getState()\n      if (state === prevState) {\n        return\n      }\n      const prevStateCopy = prevState\n      prevState = state\n      listener(state, prevStateCopy)\n    }\n\n    return this.store.subscribe(handleChange)\n  }\n\n  // subscribe to operation state change\n  subscribeToOperationStateChange (listener) {\n    return this.subscribeToStateChange(listener,\n      () => this.getState().operation)\n  }\n\n  // subscribe to player state change\n  subscribeToPlayerStateChange (listener) {\n    return this.subscribeToStateChange(listener, () => this.getState().player)\n  }\n}\n\n","import React from 'react';\n\n/**\n * @file format-time.js\n *\n * Format seconds as a time string, H:MM:SS or M:SS\n * Supplying a guide (in seconds) will force a number of leading zeros\n * to cover the length of the guide\n *\n * @param  {Number} seconds Number of seconds to be turned into a string\n * @param  {Number} guide   Number (in seconds) to model the string after\n * @return {String}         Time formatted as H:MM:SS or M:SS\n * @private\n * @function formatTime\n */\nexport function formatTime(seconds = 0, guide = seconds) {\n  let s = Math.floor(seconds % 60);\n  let m = Math.floor((seconds / 60) % 60);\n  let h = Math.floor(seconds / 3600);\n  const gm = Math.floor((guide / 60) % 60);\n  const gh = Math.floor(guide / 3600);\n\n  // handle invalid times\n  if (isNaN(seconds) || seconds === Infinity) {\n    // '-' is false for all relational operators (e.g. <, >=) so this setting\n    // will add the minimum number of fields specified by the guide\n    h = m = s = '-';\n  }\n\n  // Check if we need to show hours\n  h = (h > 0 || gh > 0) ? `${h}:` : '';\n\n  // If hours are showing, we may need to add a leading zero.\n  // Always show at least one digit of minutes.\n  m = `${(((h || gm >= 10) && m < 10) ? `0${m}` : m)}:`;\n\n  // Check if leading zero is need for seconds\n  s = (s < 10) ? `0${s}` : s;\n\n  return h + m + s;\n}\n\n// Check if the element belongs to a video element\n// only accept <source />, <track />,\n// <MyComponent isVideoChild />\n// elements\nexport function isVideoChild(c) {\n  if (c.props && c.props.isVideoChild) {\n    return true;\n  }\n  return (c.type === 'source' || c.type === 'track');\n}\n\nconst find = (elements, func) => elements.filter(func)[0];\n\n// check if two components are the same type\nconst isTypeEqual = (component1, component2) => {\n  const type1 = component1.type;\n  const type2 = component2.type;\n\n  if (typeof type1 === 'string' || typeof type2 === 'string') {\n    return type1 === type2;\n  }\n\n  if (typeof type1 === 'function' && typeof type2 === 'function') {\n    return type1.displayName === type2.displayName;\n  }\n\n  return false;\n}\n\n// merge default children\n// sort them by `order` property\n// filter them by `disabled` property\nexport function mergeAndSortChildren(defaultChildren, _children, _parentProps, defaultOrder = 1) {\n  const children = React.Children.toArray(_children);\n  const parentProps = { ..._parentProps };\n  return children\n    .filter((e) => !e.props.disabled) // filter the disabled components\n    .concat(\n      defaultChildren.filter(\n        (c) => !find(children, (component) => isTypeEqual(component, c))\n      )\n    )\n    .map((element) => {\n      const defaultComponent = find(defaultChildren, (c) => isTypeEqual(c, element));\n      delete parentProps.order;\n      const defaultProps = defaultComponent ? defaultComponent.props : {};\n      const props = {\n        ...parentProps, // inherit from parent component\n        ...defaultProps, // inherit from default component\n        ...element.props, // element's own props\n      };\n      const e = React.cloneElement(\n        element,\n        props,\n        element.props.children\n      );\n      return e;\n    })\n    .sort((a, b) => (a.props.order || defaultOrder) - (b.props.order || defaultOrder));\n}\n\n/**\n * Temporary utility for generating the warnings\n */\nexport function deprecatedWarning(oldMethodCall, newMethodCall) {\n  // eslint-disable-next-line no-console\n  console.warn(`WARNING: ${oldMethodCall} will be deprecated soon! Please use ${newMethodCall} instead.`);\n}\n\nexport function throttle(callback, limit) {\n  let wait = false;\n  return () => {\n    if (!wait) {\n      callback.apply(null, arguments);\n      wait = true;\n      setTimeout(() => {\n        wait = false;\n      }, limit);\n    }\n  }\n}\n\nexport const mediaProperties = [\n  'error', 'src', 'srcObject',\n  'currentSrc', 'crossOrigin',\n  'networkState', 'preload', 'buffered',\n  'readyState', 'seeking', 'currentTime',\n  'duration', 'paused', 'defaultPlaybackRate',\n  'playbackRate', 'played', 'seekable',\n  'ended', 'autoplay', 'loop',\n  'mediaGroup', 'controller', 'controls',\n  'volume', 'muted', 'defaultMuted',\n  'audioTracks', 'videoTracks', 'textTracks',\n  'width', 'height', 'videoWidth', 'videoHeight',\n  'poster'\n];\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { isVideoChild, mediaProperties, throttle } from '../utils'\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  children: PropTypes.any,\n  startTime: PropTypes.number,\n  loop: PropTypes.bool,\n  muted: PropTypes.bool,\n  autoPlay: PropTypes.bool,\n  playsInline: PropTypes.bool,\n  src: PropTypes.string,\n  poster: PropTypes.string,\n  className: PropTypes.string,\n  preload: PropTypes.oneOf(['auto', 'metadata', 'none']),\n  crossOrigin: PropTypes.string,\n\n  onLoadStart: PropTypes.func,\n  onWaiting: PropTypes.func,\n  onCanPlay: PropTypes.func,\n  onCanPlayThrough: PropTypes.func,\n  onPlaying: PropTypes.func,\n  onEnded: PropTypes.func,\n  onSeeking: PropTypes.func,\n  onSeeked: PropTypes.func,\n  onPlay: PropTypes.func,\n  onPause: PropTypes.func,\n  onProgress: PropTypes.func,\n  onDurationChange: PropTypes.func,\n  onError: PropTypes.func,\n  onSuspend: PropTypes.func,\n  onAbort: PropTypes.func,\n  onEmptied: PropTypes.func,\n  onStalled: PropTypes.func,\n  onLoadedMetadata: PropTypes.func,\n  onLoadedData: PropTypes.func,\n  onTimeUpdate: PropTypes.func,\n  onRateChange: PropTypes.func,\n  onVolumeChange: PropTypes.func,\n  onResize: PropTypes.func,\n}\n\nconst defaultProps = {\n  preload: 'auto',\n}\n\nexport default class Video extends Component {\n  constructor (props) {\n    super(props)\n    this.video = null // the html5 video\n    this.play = this.play.bind(this)\n    this.pause = this.pause.bind(this)\n    this.seek = this.seek.bind(this)\n    this.forward = this.forward.bind(this)\n    this.replay = this.replay.bind(this)\n    this.toggleFullscreen = this.toggleFullscreen.bind(this)\n    this.getProperties = this.getProperties.bind(this)\n    this.renderChildren = this.renderChildren.bind(this)\n    this.handleLoadStart = this.handleLoadStart.bind(this)\n    this.handleCanPlay = this.handleCanPlay.bind(this)\n    this.handleCanPlayThrough = this.handleCanPlayThrough.bind(this)\n    this.handlePlay = this.handlePlay.bind(this)\n    this.handlePlaying = this.handlePlaying.bind(this)\n    this.handlePause = this.handlePause.bind(this)\n    this.handleEnded = this.handleEnded.bind(this)\n    this.handleWaiting = this.handleWaiting.bind(this)\n    this.handleSeeking = this.handleSeeking.bind(this)\n    this.handleSeeked = this.handleSeeked.bind(this)\n    this.handleFullscreenChange = this.handleFullscreenChange.bind(this)\n    this.handleError = this.handleError.bind(this)\n    this.handleSuspend = this.handleSuspend.bind(this)\n    this.handleAbort = this.handleAbort.bind(this)\n    this.handleEmptied = this.handleEmptied.bind(this)\n    this.handleStalled = this.handleStalled.bind(this)\n    this.handleLoadedMetaData = this.handleLoadedMetaData.bind(this)\n    this.handleLoadedData = this.handleLoadedData.bind(this)\n    this.handleTimeUpdate = this.handleTimeUpdate.bind(this)\n    this.handleRateChange = this.handleRateChange.bind(this)\n    this.handleVolumeChange = this.handleVolumeChange.bind(this)\n    this.handleDurationChange = this.handleDurationChange.bind(this)\n    this.handleProgress = throttle(this.handleProgress.bind(this), 250)\n    this.handleKeypress = this.handleKeypress.bind(this)\n  }\n\n  componentDidMount () {\n    this.forceUpdate() // make sure the children can get the video property\n  }\n\n  // get all video properties\n  getProperties () {\n    if (!this.video) {\n      return null\n    }\n\n    return mediaProperties.reduce((properties, key) => {\n      properties[key] = this.video[key]\n      return properties\n    }, {})\n  }\n\n  // get playback rate\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n\n  // set playback rate\n  // speed of video\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n\n  get muted () {\n    return this.video.muted\n  }\n\n  set muted (val) {\n    this.video.muted = val\n  }\n\n  get volume () {\n    return this.video.volume\n  }\n\n  set volume (val) {\n    if (val > 1) {\n      val = 1\n    }\n    if (val < 0) {\n      val = 0\n    }\n    this.video.volume = val\n  }\n\n  // video width\n  get videoWidth () {\n    return this.video.videoWidth\n  }\n\n  // video height\n  get videoHeight () {\n    return this.video.videoHeight\n  }\n\n  // play the video\n  play () {\n    const promise = this.video.play()\n    if (promise !== undefined) {\n      promise.catch(error => {}).then(() => {})\n    }\n  }\n\n  // pause the video\n  pause () {\n    const promise = this.video.pause()\n    if (promise !== undefined) {\n      promise.catch(error => {}).then(() => {})\n    }\n  }\n\n  // Change the video source and re-load the video:\n  load () {\n    this.video.load()\n  }\n\n  // Add a new text track to the video\n  addTextTrack (...args) {\n    this.video.addTextTrack(...args)\n  }\n\n  // Check if your browser can play different types of video:\n  canPlayType (...args) {\n    this.video.canPlayType(...args)\n  }\n\n  // toggle play\n  togglePlay () {\n    if (this.video.paused) {\n      this.play()\n    } else {\n      this.pause()\n    }\n  }\n\n  // seek video by time\n  seek (time) {\n    try {\n      this.video.currentTime = time\n    } catch (e) {\n      // console.log(e, 'Video is not ready.')\n    }\n  }\n\n  // jump forward x seconds\n  forward (seconds) {\n    this.seek(this.video.currentTime + seconds)\n  }\n\n  // jump back x seconds\n  replay (seconds) {\n    this.forward(-seconds)\n  }\n\n  // enter or exist full screen\n  toggleFullscreen () {\n    const {player, actions} = this.props\n    actions.toggleFullscreen(player)\n  }\n\n  // Fired when the user agent\n  // begins looking for media data\n  handleLoadStart (...args) {\n    const {actions, onLoadStart} = this.props\n    actions.handleLoadStart(this.getProperties())\n    if (onLoadStart) {\n      onLoadStart(...args)\n    }\n  }\n\n  // A handler for events that\n  // signal that waiting has ended\n  handleCanPlay (...args) {\n    const {actions, onCanPlay} = this.props\n\n    actions.handleCanPlay(this.getProperties())\n\n    if (onCanPlay) {\n      onCanPlay(...args)\n    }\n  }\n\n  // A handler for events that\n  // signal that waiting has ended\n  handleCanPlayThrough (...args) {\n    const {actions, onCanPlayThrough} = this.props\n    actions.handleCanPlayThrough(this.getProperties())\n\n    if (onCanPlayThrough) {\n      onCanPlayThrough(...args)\n    }\n  }\n\n  // A handler for events that\n  // signal that waiting has ended\n  handlePlaying (...args) {\n    const {actions, onPlaying} = this.props\n    actions.handlePlaying(this.getProperties())\n\n    if (onPlaying) {\n      onPlaying(...args)\n    }\n  }\n\n  // Fired whenever the media has been started\n  handlePlay (...args) {\n    const {actions, onPlay} = this.props\n    actions.handlePlay(this.getProperties())\n\n    if (onPlay) {\n      onPlay(...args)\n    }\n  }\n\n  // Fired whenever the media has been paused\n  handlePause (...args) {\n    const {actions, onPause} = this.props\n    actions.handlePause(this.getProperties())\n\n    if (onPause) {\n      onPause(...args)\n    }\n  }\n\n  // Fired when the duration of\n  // the media resource is first known or changed\n  handleDurationChange (...args) {\n    const {actions, onDurationChange} = this.props\n    actions.handleDurationChange(this.getProperties())\n\n    if (onDurationChange) {\n      onDurationChange(...args)\n    }\n  }\n\n  // Fired while the user agent\n  // is downloading media data\n  handleProgress (...args) {\n    const {actions, onProgress} = this.props\n    if (this.video) {\n      actions.handleProgressChange(this.getProperties())\n    }\n\n    if (onProgress) {\n      onProgress(...args)\n    }\n  }\n\n  // Fired when the end of the media resource\n  // is reached (currentTime == duration)\n  handleEnded (...args) {\n    const {loop, player, actions, onEnded} = this.props\n    if (loop) {\n      this.seek(0)\n      this.play()\n    } else if (!player.paused) {\n      this.pause()\n    }\n    actions.handleEnd(this.getProperties())\n\n    if (onEnded) {\n      onEnded(...args)\n    }\n  }\n\n  // Fired whenever the media begins waiting\n  handleWaiting (...args) {\n    const {actions, onWaiting} = this.props\n    actions.handleWaiting(this.getProperties())\n\n    if (onWaiting) {\n      onWaiting(...args)\n    }\n  }\n\n  // Fired whenever the player\n  // is jumping to a new time\n  handleSeeking (...args) {\n    const {actions, onSeeking} = this.props\n    actions.handleSeeking(this.getProperties())\n\n    if (onSeeking) {\n      onSeeking(...args)\n    }\n  }\n\n  // Fired when the player has\n  // finished jumping to a new time\n  handleSeeked (...args) {\n    const {actions, onSeeked} = this.props\n    actions.handleSeeked(this.getProperties())\n\n    if (onSeeked) {\n      onSeeked(...args)\n    }\n  }\n\n  // Handle Fullscreen Change\n  handleFullscreenChange () {\n  }\n\n  // Fires when the browser is\n  // intentionally not getting media data\n  handleSuspend (...args) {\n    const {actions, onSuspend} = this.props\n    actions.handleSuspend(this.getProperties())\n    if (onSuspend) {\n      onSuspend(...args)\n    }\n  }\n\n  // Fires when the loading of an audio/video is aborted\n  handleAbort (...args) {\n    const {actions, onAbort} = this.props\n    actions.handleAbort(this.getProperties())\n    if (onAbort) {\n      onAbort(...args)\n    }\n  }\n\n  // Fires when the current playlist is empty\n  handleEmptied (...args) {\n    const {actions, onEmptied} = this.props\n    actions.handleEmptied(this.getProperties())\n    if (onEmptied) {\n      onEmptied(...args)\n    }\n  }\n\n  // Fires when the browser is trying to\n  // get media data, but data is not available\n  handleStalled (...args) {\n    const {actions, onStalled} = this.props\n    actions.handleStalled(this.getProperties())\n\n    if (onStalled) {\n      onStalled(...args)\n    }\n  }\n\n  // Fires when the browser has loaded\n  // meta data for the audio/video\n  handleLoadedMetaData (...args) {\n    const {actions, onLoadedMetadata, startTime} = this.props\n\n    if (startTime && startTime > 0) {\n      this.video.currentTime = startTime\n    }\n\n    actions.handleLoadedMetaData(this.getProperties())\n\n    if (onLoadedMetadata) {\n      onLoadedMetadata(...args)\n    }\n  }\n\n  // Fires when the browser has loaded\n  // the current frame of the audio/video\n  handleLoadedData (...args) {\n    const {actions, onLoadedData} = this.props\n    actions.handleLoadedData(this.getProperties())\n\n    if (onLoadedData) {\n      onLoadedData(...args)\n    }\n  }\n\n  // Fires when the current\n  // playback position has changed\n  handleTimeUpdate (...args) {\n    const {actions, onTimeUpdate} = this.props\n    actions.handleTimeUpdate(this.getProperties())\n\n    if (onTimeUpdate) {\n      onTimeUpdate(...args)\n    }\n  }\n\n  /**\n   * Fires when the playing speed of the audio/video is changed\n   */\n  handleRateChange (...args) {\n    const {actions, onRateChange} = this.props\n    actions.handleRateChange(this.getProperties())\n\n    if (onRateChange) {\n      onRateChange(...args)\n    }\n  }\n\n  // Fires when the volume has been changed\n  handleVolumeChange (...args) {\n    const {actions, onVolumeChange} = this.props\n    actions.handleVolumeChange(this.getProperties())\n\n    if (onVolumeChange) {\n      onVolumeChange(...args)\n    }\n  }\n\n  // Fires when an error occurred\n  // during the loading of an audio/video\n  handleError (...args) {\n    const {actions, onError} = this.props\n    actions.handleError(this.getProperties())\n    if (onError) {\n      onError(...args)\n    }\n  }\n\n  handleResize (...args) {\n    const {actions, onResize} = this.props\n    actions.handleResize(this.getProperties())\n    if (onResize) {\n      onResize(...args)\n    }\n  }\n\n  handleKeypress () {\n\n  }\n\n  renderChildren () {\n    const props = {\n      ...this.props,\n      video: this.video,\n    }\n\n    // to make sure the children can get video property\n    if (!this.video) {\n      return null\n    }\n\n    // only keep <source />, <track />, <MyComponent isVideoChild /> elements\n    return React.Children.toArray(this.props.children).\n      filter(isVideoChild).\n      map((c) => {\n        let cprops\n        if (typeof c.type === 'string') {\n          // add onError to <source />\n          if (c.type === 'source') {\n            cprops = {...c.props}\n            const preOnError = cprops.onError\n            cprops.onError = (...args) => {\n              if (preOnError) {\n                preOnError(...args)\n              }\n              this.handleError(...args)\n            }\n          }\n        } else {\n          cprops = props\n        }\n        return React.cloneElement(\n          c,\n          cprops,\n        )\n      })\n  }\n\n  render () {\n    const {\n      loop, poster, preload, src, autoPlay,\n      playsInline, muted, crossOrigin, videoId,\n    } = this.props\n    return (\n      <video\n        className='video'\n        id={videoId}\n        crossOrigin={crossOrigin}\n        ref={(c) => { this.video = c }}\n        muted={muted}\n        preload={preload}\n        loop={loop}\n        playsInline={playsInline}\n        autoPlay={autoPlay}\n        poster={poster}\n        src={src}\n        onLoadStart={this.handleLoadStart}\n        onWaiting={this.handleWaiting}\n        onCanPlay={this.handleCanPlay}\n        onCanPlayThrough={this.handleCanPlayThrough}\n        onPlaying={this.handlePlaying}\n        onEnded={this.handleEnded}\n        onSeeking={this.handleSeeking}\n        onSeeked={this.handleSeeked}\n        onPlay={this.handlePlay}\n        onPause={this.handlePause}\n        onProgress={this.handleProgress}\n        onDurationChange={this.handleDurationChange}\n        onError={this.handleError}\n        onSuspend={this.handleSuspend}\n        onAbort={this.handleAbort}\n        onEmptied={this.handleEmptied}\n        onStalled={this.handleStalled}\n        onLoadedMetadata={this.handleLoadedMetaData}\n        onLoadedData={this.handleLoadedData}\n        onTimeUpdate={this.handleTimeUpdate}\n        onRateChange={this.handleRateChange}\n        onVolumeChange={this.handleVolumeChange}\n      >\n        {this.renderChildren()}\n      </video>\n    )\n  }\n}\n\nVideo.propTypes = propTypes\nVideo.defaultProps = defaultProps\nVideo.displayName = 'Video'\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classNames from 'classnames'\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n}\nexport default class PlayToggle extends React.Component {\n  constructor (props) {\n    super(props)\n  }\n\n  shouldComponentUpdate (nextProps) {\n    return nextProps.player.paused !== this.props.player.paused\n  }\n\n  handleClick () {\n    const {actions, player} = this.props\n    if (player.paused) {\n      actions.play()\n    } else {\n      actions.pause()\n    }\n  }\n\n  render () {\n    return (\n      <button className={classNames({\n        'video-play-toggle-button': true,\n        'video-paused': this.props.player.paused,\n      },'video-control')}\n              onClick={() => this.handleClick()} />\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classNames from 'classnames'\n\nconst propTypes = {\n  tagName: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  className: PropTypes.string,\n}\n\nconst defaultProps = {\n  tagName: 'div',\n}\nexport default class ClickableComponent extends Component {\n\n  constructor (props, context) {\n    super(props, context)\n\n    this.handleClick = this.handleClick.bind(this)\n    this.handleFocus = this.handleFocus.bind(this)\n    this.handleBlur = this.handleBlur.bind(this)\n    this.handleKeypress = this.handleKeypress.bind(this)\n  }\n\n  handleKeypress (event) {\n    // Support Space (32) or Enter (13) key operation to fire a click event\n    if (event.which === 32 || event.which === 13) {\n      event.preventDefault()\n      this.handleClick(event)\n    }\n  }\n\n  handleClick (event) {\n    const {onClick} = this.props\n    onClick(event)\n  }\n\n  handleFocus (e) {\n    document.addEventListener('keydown', this.handleKeypress)\n    if (this.props.onFocus) {\n      this.props.onFocus(e)\n    }\n  }\n\n  handleBlur (e) {\n    document.removeEventListener('keydown', this.handleKeypress)\n    if (this.props.onBlur) {\n      this.props.onBlur(e)\n    }\n  }\n\n  render () {\n    const props = {...this.props}\n    return (\n      <props.tagName\n        className={classNames(this.props.className)}\n        onClick={this.props.onClick}\n        // onFocus={this.handleFocus}\n        // onBlur={this.handleBlur}\n      />\n    )\n  }\n\n}\n\nClickableComponent.defaultProps = defaultProps\nClickableComponent.propTypes = propTypes\nClickableComponent.displayName = 'ClickableComponent'\n","import { findDOMNode } from 'react-dom';\n\n/**\n * Offset Left\n * getBoundingClientRect technique from\n * John Resig http://ejohn.org/blog/getboundingclientrect-is-awesome/\n *\n * @function findElPosition\n * @param {Element} el Element from which to get offset\n * @return {Object}\n */\nexport function findElPosition(el) {\n  let box;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0,\n    };\n  }\n\n  const docEl = document.documentElement;\n  const body = document.body;\n\n  const clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  const scrollLeft = window.pageXOffset || body.scrollLeft;\n  const left = (box.left + scrollLeft) - clientLeft;\n\n  const clientTop = docEl.clientTop || body.clientTop || 0;\n  const scrollTop = window.pageYOffset || body.scrollTop;\n  const top = (box.top + scrollTop) - clientTop;\n\n  // Android sometimes returns slightly off decimal values, so need to round\n  return {\n    left: Math.round(left),\n    top: Math.round(top),\n  };\n}\n\n\n/**\n * Get pointer position in element\n * Returns an object with x and y coordinates.\n * The base on the coordinates are the bottom left of the element.\n *\n * @function getPointerPosition\n * @param {Element} el Element on which to get the pointer position on\n * @param {Event} event Event object\n * @return {Object} This object will have x and y coordinates corresponding to the mouse position\n */\nexport function getPointerPosition(el, event) {\n  const position = {};\n  const box = findElPosition(el);\n  const boxW = el.offsetWidth;\n  const boxH = el.offsetHeight;\n\n  const boxY = box.top;\n  const boxX = box.left;\n  let pageY = event.pageY;\n  let pageX = event.pageX;\n\n  if (event.changedTouches) {\n    pageX = event.changedTouches[0].pageX;\n    pageY = event.changedTouches[0].pageY;\n  }\n\n  position.y = Math.max(0, Math.min(1, ((boxY - pageY) + boxH) / boxH));\n  position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n\n  return position;\n}\n\n// blur an element\nexport function blurNode(reactNode) {\n  const domNode = findDOMNode(reactNode);\n  if (domNode && domNode.blur) {\n    domNode.blur();\n  }\n}\n\n// check if an element has a class name\nexport function hasClass(elm, cls) {\n  const classes = elm.className.split(' ');\n  for (let i = 0; i < classes.length; i++) {\n    if (classes[i].toLowerCase() === cls.toLowerCase()) {\n      return true;\n    }\n  }\n  return false;\n}\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport classNames from 'classnames';\nimport * as Dom from '../utils/dom';\n\nconst propTypes = {\n  className: PropTypes.string,\n  onMouseDown: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  stepForward: PropTypes.func,\n  stepBack: PropTypes.func,\n  sliderActive: PropTypes.func,\n  sliderInactive: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onClick: PropTypes.func,\n  getPercent: PropTypes.func,\n  vertical: PropTypes.bool,\n  children: PropTypes.node,\n  label: PropTypes.string,\n  valuenow: PropTypes.string,\n  valuetext: PropTypes.string,\n};\n\nexport default class Slider extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.stepForward = this.stepForward.bind(this);\n    this.stepBack = this.stepBack.bind(this);\n    this.calculateDistance = this.calculateDistance.bind(this);\n    this.getProgress = this.getProgress.bind(this);\n    this.renderChildren = this.renderChildren.bind(this);\n\n    this.state = {\n      active: false,\n    };\n  }\n\n  getProgress() {\n    const { getPercent } = this.props;\n    if (!getPercent) {\n      return 0;\n    }\n    let progress = getPercent();\n\n    // Protect against no duration and other division issues\n    if (typeof progress !== 'number' ||\n      progress < 0 ||\n      progress === Infinity) {\n      progress = 0;\n    }\n    return progress;\n  }\n\n  handleMouseDown(event) {\n    const { onMouseDown } = this.props;\n    // event.preventDefault();\n    // event.stopPropagation();\n\n    document.addEventListener('mousemove', this.handleMouseMove, true);\n    document.addEventListener('mouseup', this.handleMouseUp, true);\n    document.addEventListener('touchmove', this.handleMouseMove, true);\n    document.addEventListener('touchend', this.handleMouseUp, true);\n\n    this.setState({\n      active: true,\n      distance: 0,\n    });\n\n    if (this.props.sliderActive) {\n      this.props.sliderActive(event);\n    }\n\n    this.handleMouseMove(event);\n\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n  }\n\n  handleMouseMove(event) {\n    const { onMouseMove } = this.props;\n\n    if (onMouseMove) {\n      onMouseMove(event);\n    }\n  }\n\n  handleMouseUp(event) {\n    const { onMouseUp } = this.props;\n\n    document.removeEventListener('mousemove', this.handleMouseMove, true);\n    document.removeEventListener('mouseup', this.handleMouseUp, true);\n    document.removeEventListener('touchmove', this.handleMouseMove, true);\n    document.removeEventListener('touchend', this.handleMouseUp, true);\n\n    this.setState({\n      active: false,\n    });\n\n    if (this.props.sliderInactive) {\n      this.props.sliderInactive(event);\n    }\n\n    if (onMouseUp) {\n      onMouseUp(event);\n    }\n  }\n\n  handleFocus(e) {\n    document.addEventListener('keydown', this.handleKeyPress, true);\n    if (this.props.onFocus) {\n      this.props.onFocus(e);\n    }\n  }\n\n  handleBlur(e) {\n    document.removeEventListener('keydown', this.handleKeyPress, true);\n    if (this.props.onBlur) {\n      this.props.onBlur(e);\n    }\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    // event.stopPropagation();\n    if (this.props.onClick) {\n      this.props.onClick(event);\n    }\n  }\n\n  handleKeyPress(event) {\n    if (event.which === 37 || event.which === 40) { // Left and Down Arrows\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepBack();\n    } else if (event.which === 38 || event.which === 39) { // Up and Right Arrows\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepForward();\n    }\n  }\n\n  stepForward() {\n    if (this.props.stepForward) {\n      this.props.stepForward();\n    }\n  }\n\n  stepBack() {\n    if (this.props.stepBack) {\n      this.props.stepBack();\n    }\n  }\n\n  calculateDistance(event) {\n    const node = findDOMNode(this);\n    const position = Dom.getPointerPosition(node, event);\n    if (this.props.vertical) {\n      return position.y;\n    }\n    return position.x;\n  }\n\n  renderChildren() {\n    const progress = this.getProgress();\n    const percentage = `${(progress * 100).toFixed(2)}%`;\n    return React.Children.map(this.props.children, child =>\n      React.cloneElement(child, { progress, percentage })\n    );\n  }\n\n  render() {\n    const { vertical, label, valuenow, valuetext } = this.props;\n\n    return (\n      <div\n        className={classNames(this.props.className, {\n          'video-react-slider-vertical': vertical,\n          'video-react-slider-horizontal': !vertical,\n          'video-react-sliding': this.state.active,\n        }, 'video-react-slider')}\n        tabIndex=\"0\"\n        onMouseDown={this.handleMouseDown}\n        onTouchStart={this.handleMouseDown}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        onClick={this.handleClick}\n        aria-label={label || ''}\n        aria-valuenow={valuenow || ''}\n        aria-valuetext={valuetext || ''}\n        aria-valuemin={0}\n        aria-valuemax={100}\n      >\n        { this.renderChildren() }\n      </div>\n    );\n  }\n}\n\nSlider.propTypes = propTypes;\nSlider.displayName = 'Slider';\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst propTypes = {\n  percentage: PropTypes.string,\n  vertical: PropTypes.bool,\n  className: PropTypes.string,\n}\n\nconst defaultProps = {\n  percentage: '100%',\n  vertical: false,\n}\n\nfunction VolumeLevel ({percentage}) {\n  return (\n    <div\n      className='video-volume-level' style={{width: `${percentage}`}}>\n    </div>\n  )\n}\n\nVolumeLevel.defaultProps = defaultProps\nVolumeLevel.propTypes = propTypes\nVolumeLevel.displayName = 'VolumeLevel'\nexport default VolumeLevel\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classNames from 'classnames'\n\nimport Slider from '../Slider'\nimport VolumeLevel from './VolumeLevel'\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  className: PropTypes.string,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n}\n\nclass VolumeBar extends Component {\n  constructor (props, context) {\n    super(props, context)\n\n    this.state = {\n      percentage: '0%',\n    }\n\n    this.handleMouseMove = this.handleMouseMove.bind(this)\n    this.handlePercentageChange = this.handlePercentageChange.bind(this)\n    this.checkMuted = this.checkMuted.bind(this)\n    this.getPercent = this.getPercent.bind(this)\n    this.stepForward = this.stepForward.bind(this)\n    this.stepBack = this.stepBack.bind(this)\n    this.handleFocus = this.handleFocus.bind(this)\n    this.handleBlur = this.handleBlur.bind(this)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  componentDidMount () {\n  }\n\n  getPercent () {\n    const {player} = this.props\n    if (player.muted) {\n      return 0\n    }\n    return player.volume\n  }\n\n  checkMuted () {\n    const {player, actions} = this.props\n    if (player.muted) {\n      actions.mute(false)\n    }\n  }\n\n  handleMouseMove (event) {\n    const {actions} = this.props\n    this.checkMuted()\n    const distance = this.slider.calculateDistance(event)\n    actions.changeVolume(distance)\n  }\n\n  stepForward () {\n    const {player, actions} = this.props\n    this.checkMuted()\n    actions.changeVolume(player.volume + 0.1)\n  }\n\n  stepBack () {\n    const {player, actions} = this.props\n    this.checkMuted()\n    actions.changeVolume(player.volume - 0.1)\n  }\n\n  handleFocus (e) {\n    if (this.props.onFocus) {\n      this.props.onFocus(e)\n    }\n  }\n\n  handleBlur (e) {\n    if (this.props.onBlur) {\n      this.props.onBlur(e)\n    }\n  }\n\n  handlePercentageChange (percentage) {\n    if (percentage !== this.state.percentage) {\n      this.setState({\n        percentage,\n      })\n    }\n  }\n\n  handleClick (event) {\n    event.stopPropagation()\n  }\n\n  render () {\n    const {player} = this.props\n\n    const volume = (player.volume * 100).toFixed(2)\n    return (\n      <Slider\n        ref={(c) => {\n          this.slider = c\n        }}\n        label=\"volume level\"\n        valuenow={volume}\n        valuetext={`${volume}%`}\n        onMouseMove={this.handleMouseMove}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        onClick={this.handleClick}\n        sliderActive={this.handleFocus}\n        sliderInactive={this.handleBlur}\n        getPercent={this.getPercent}\n        onPercentageChange={this.handlePercentageChange}\n        stepForward={this.stepForward}\n        stepBack={this.stepBack}\n        {...this.props}\n        className='video-volume-bar video-control'\n      >\n        <VolumeLevel\n          {...this.props}\n        />\n      </Slider>\n    )\n  }\n}\n\nVolumeBar.propTypes = propTypes\nVolumeBar.displayName = 'VolumeBar'\n\nexport default VolumeBar\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classNames from 'classnames'\nimport ClickableComponent from '../ClickableComponent'\nimport VolumeBar from '../volume-control/VolumeBar'\n\nconst propTypes = {\n  player: PropTypes.object,\n  actions: PropTypes.object,\n  className: PropTypes.string,\n}\n\nclass VolumeMenuButton extends Component {\n\n  constructor (props, context) {\n    super(props, context)\n\n    this.state = {\n      active: false,\n    }\n\n    this.handleClick = this.handleClick.bind(this)\n    this.handleFocus = this.handleFocus.bind(this)\n    this.handleBlur = this.handleBlur.bind(this)\n  }\n\n  handleClick () {\n    const {player, actions} = this.props\n    actions.mute(!player.muted)\n  }\n\n  handleFocus () {\n    this.setState({\n      active: true,\n    })\n  }\n\n  handleBlur () {\n    this.setState({\n      active: false,\n    })\n  }\n\n  get volumeLevel () {\n    const {player: {volume, muted}} = this.props\n    let level = 3\n    if (volume === 0 || muted) {\n      level = 0\n    } else if (volume < 0.33) {\n      level = 1\n    } else if (volume < 0.67) {\n      level = 2\n    }\n    return level\n  }\n\n  render () {\n    const {player} = this.props\n    const level = this.volumeLevel\n    return (\n      <div className={classNames({\n        'video-vol-slider-active': this.state.active,\n      }, 'video-volume-menu')}>\n        <button\n          className={classNames({\n              'video-vol-muted': player.muted,\n              'video-vol-0': level === 0 && !player.muted,\n              'video-vol-1': level === 1,\n              'video-vol-2': level === 2,\n              'video-vol-3': level === 3,\n            },\n            'video-volume-button video-control')} // add this video control class for prevent parent element get key-pressed event\n          onClick={this.handleClick}\n          onFocus={this.handleFocus}\n          onBlur={this.handleBlur}>\n\n        </button>\n        <VolumeBar onFocus={this.handleFocus}\n                   onBlur={this.handleBlur}\n                   {...this.props} />\n      </div>\n    )\n  }\n}\n\nVolumeMenuButton.propTypes = propTypes\nVolumeMenuButton.displayName = 'VolumeMenuButton'\nexport default VolumeMenuButton\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { formatTime } from '../../utils'\n\nconst propTypes = {\n  currentTime: PropTypes.number,\n  duration: PropTypes.number,\n  percentage: PropTypes.string,\n  className: PropTypes.string,\n}\n\n// Shows play progress\nexport default function PlayProgressBar ({currentTime, duration, percentage}) {\n  return (\n    <div data-current-time={formatTime(currentTime, duration)}\n         className='video-play-progress video-slider-bar'\n         style={{\n           width: percentage,\n         }} />\n\n  )\n}\n\nPlayProgressBar.propTypes = propTypes\nPlayProgressBar.displayName = 'PlayProgressBar'\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classNames from 'classnames'\n\nconst propTypes = {\n  duration: PropTypes.number,\n  buffered: PropTypes.object,\n}\n\n// Shows load progress\nexport default function LoadProgressBar ({buffered, duration}) {\n  if (!buffered || !buffered.length) {\n    return null\n  }\n  let bufferedEnd = buffered.end(buffered.length - 1)\n  let style = {}\n\n  if (bufferedEnd > duration) {\n    bufferedEnd = duration\n  }\n\n  // get the percent width of a time compared to the total end\n  function percentify (time, end) {\n    const percent = (time / end) || 0 // no NaN\n    return `${((percent >= 1 ? 1 : percent) * 100)}%`\n  }\n\n  // the width of the progress bar\n  style.width = percentify(bufferedEnd, duration)\n\n  let parts = []\n\n\n  // add child elements to represent the individual buffered time ranges\n  for (let i = 0; i < buffered.length; i++) {\n    const start = buffered.start(i)\n    const end = buffered.end(i)\n    // set the percent based on the width of the progress bar (bufferedEnd)\n    const part = (\n      <div\n        style={{\n          left: percentify(start, bufferedEnd),\n          width: percentify(end - start, bufferedEnd),\n        }}\n        key={`part-${i}`}\n      />\n    )\n    parts.push(part)\n  }\n\n  if (parts.length === 0) {\n    parts = null\n  }\n\n  return (\n    <div\n      style={style}\n      className='video-load-progress'>\n      {parts}\n    </div>\n  )\n}\n\nLoadProgressBar.propTypes = propTypes\nLoadProgressBar.displayName = 'LoadProgressBar'\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { formatTime } from '../../utils'\n\nfunction MouseTimeDisplay ({duration, mouseTime, text}) {\n  if (!mouseTime.time) {\n    return null\n  }\n\n  const time = text || formatTime(mouseTime.time, duration)\n\n  return (\n    <span\n      className='video-mouse-time-display'\n      style={{\n        left: `${mouseTime.position}px`,\n      }}\n    >\n      {time}\n    </span>\n  )\n}\n\nMouseTimeDisplay.propTypes = {\n  duration: PropTypes.number,\n  mouseTime: PropTypes.object,\n}\nMouseTimeDisplay.displayName = 'MouseTimeDisplay'\n\nexport default MouseTimeDisplay\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nimport Slider from '../Slider';\nimport PlayProgressBar from './PlayProgressBar';\nimport LoadProgressBar from './LoadProgressBar';\nimport MouseTimeDisplay from './MouseTimeDisplay';\nimport { formatTime } from '../../utils';\n\nconst propTypes = {\n  player: PropTypes.object,\n  mouseTime: PropTypes.object,\n  actions: PropTypes.object,\n  className: PropTypes.string,\n};\n\nexport default class SeekBar extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.getPercent = this.getPercent.bind(this);\n    this.getNewTime = this.getNewTime.bind(this);\n    this.stepForward = this.stepForward.bind(this);\n    this.stepBack = this.stepBack.bind(this);\n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n  }\n\n  componentDidMount() {\n  }\n\n  componentDidUpdate() {\n  }\n\n  /**\n   * Get percentage of video played\n   *\n   * @return {Number} Percentage played\n   * @method getPercent\n   */\n  getPercent() {\n    const { currentTime, seekingTime, duration } = this.props.player;\n    const time = seekingTime || currentTime;\n    const percent = time / duration;\n    return percent >= 1 ? 1 : percent;\n  }\n\n  getNewTime(event) {\n    const { player: { duration } } = this.props;\n    const distance = this.slider.calculateDistance(event);\n    const newTime = distance * duration;\n\n    // Don't let video end while scrubbing.\n    return newTime === duration ? newTime - 0.1 : newTime;\n  }\n\n  handleMouseDown() {\n  }\n\n  handleMouseUp(event) {\n    const { actions } = this.props;\n    const newTime = this.getNewTime(event);\n    // Set new time (tell video to seek to new time)\n    actions.seek(newTime);\n    actions.handleEndSeeking(newTime);\n  }\n\n  handleMouseMove(event) {\n    const { actions } = this.props;\n    const newTime = this.getNewTime(event);\n    actions.handleSeekingTime(newTime);\n  }\n\n\n  stepForward() {\n    const { actions } = this.props;\n    actions.forward(5);\n  }\n\n  stepBack() {\n    const { actions } = this.props;\n    actions.replay(5);\n  }\n\n  render() {\n    const { player: { currentTime, seekingTime, duration, buffered }, mouseTime } = this.props;\n    const time = seekingTime || currentTime;\n\n    return (\n      <Slider\n        ref={(input) => {\n          this.slider = input;\n        }}\n        label=\"video progress bar\"\n        className='video-progress-control-box'\n        valuenow={(this.getPercent() * 100).toFixed(2)}\n        valuetext={formatTime(time, duration)}\n        onMouseDown={this.handleMouseDown}\n        onMouseMove={this.handleMouseMove}\n        onMouseUp={this.handleMouseUp}\n        getPercent={this.getPercent}\n        stepForward={this.stepForward}\n        stepBack={this.stepBack}\n      >\n        <LoadProgressBar\n          buffered={buffered}\n          currentTime={time}\n          duration={duration}\n        />\n        <MouseTimeDisplay\n          duration={duration}\n          mouseTime={mouseTime}\n        />\n        <PlayProgressBar\n          currentTime={time}\n          duration={duration}\n        />\n      </Slider>\n    );\n  }\n}\n\nSeekBar.propTypes = propTypes;\nSeekBar.displayName = 'SeekBar';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport classNames from 'classnames';\n\nimport * as Dom from '../../utils/dom';\nimport SeekBar from './SeekBar';\n\nconst propTypes = {\n  player: PropTypes.object,\n  className: PropTypes.string,\n};\n\nexport default class ProgressControl extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      mouseTime: {\n        time: null,\n        position: 0,\n      },\n    };\n\n    this.handleMouseMoveThrottle = this.handleMouseMove.bind(this);\n  }\n\n  handleMouseMove(event) {\n    if (!event.pageX) {\n      return;\n    }\n    const { player: { duration } } = this.props;\n    const node = findDOMNode(this.seekBar);\n    const newTime = Dom.getPointerPosition(node, event).x * duration;\n    const position = event.pageX - Dom.findElPosition(node).left;\n\n    this.setState({\n      mouseTime: {\n        time: newTime,\n        position,\n      },\n    });\n  }\n\n  render() {\n    return (\n      <div\n        onMouseMove={this.handleMouseMoveThrottle}\n        className='video-progress-control video-control'\n      >\n        <SeekBar\n          mouseTime={this.state.mouseTime}\n          ref={\n            (c) => {\n              this.seekBar = c;\n            }\n          }\n          {...this.props}\n        />\n      </div>\n    );\n  }\n}\n\nProgressControl.propTypes = propTypes;\nProgressControl.displayName = 'ProgressControl';\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classNames from 'classnames'\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n}\n\nexport default class FullscreenToggle extends Component {\n  shouldComponentUpdate (nextProps) {\n    return nextProps.player.isFullscreen !== this.props.player.isFullscreen\n  }\n\n  constructor (props, context) {\n    super(props, context)\n\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handleClick () {\n    const {player, actions} = this.props\n    actions.toggleFullscreen(player)\n  }\n\n  render () {\n    const {player} = this.props\n    return (\n      <button\n        className={classNames({\n            'ekiio-video-icon-fullscreen-exit': player.isFullscreen,\n            'ekiio-video-icon-fullscreen': !player.isFullscreen,\n          },\n          'video-fullscreen-control video-control ekiio-video-icon')}\n        ref={\n          (c) => {\n            this.button = c\n          }\n        }\n        tabIndex=\"0\"\n        onClick={this.handleClick}>\n      </button>\n    )\n  }\n}\n\nFullscreenToggle.propTypes = propTypes\nFullscreenToggle.displayName = 'FullscreenToggle'\n","import React from 'react'\n\nexport default class SettingToggle extends React.PureComponent {\n  render () {\n    return (\n      <button className=\"ekiio-video-icon ekiio-video-icon-setting\" onClick={this.props.toggleSetting} />\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport { formatTime } from '../../utils'\n\nconst propTypes = {\n  player: PropTypes.object,\n}\n\nfunction CurrentTimeDisplay ({player: {currentTime, duration}}) {\n  const formattedTime = formatTime(currentTime, duration)\n  return (\n    <span\n      className='video-current-time'>\n      {formattedTime}\n    </span>\n  )\n}\n\nCurrentTimeDisplay.propTypes = propTypes\nCurrentTimeDisplay.displayName = 'CurrentTimeDisplay'\n\nexport default CurrentTimeDisplay\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport { formatTime } from '../../utils'\n\nconst propTypes = {\n  player: PropTypes.object,\n}\n\nfunction DurationDisplay ({player: {duration}}) {\n  const formattedTime = formatTime(duration)\n  return (\n    <span\n      className=\"video-duration-display\">\n      {formattedTime}\n    </span>\n  )\n}\n\nDurationDisplay.propTypes = propTypes\nDurationDisplay.displayName = 'DurationDisplay'\n\nexport default DurationDisplay\n","import React from 'react'\nimport classNames from 'classnames'\n\nimport PlayToggle from './PlayToggle'\nimport VolumeMenuButton from './VolumeMenuButton'\nimport ProgressControl from './ProgressControl'\nimport FullscreenToggle from './FullscreenToggle'\nimport SettingToggle from './SettingToggle'\nimport CurrentTimeDisplay from '../time-controls/CurrentTimeDisplay'\nimport DurationDisplay from '../time-controls/DurationDisplay'\n\nconst ControlBar = (props) => {\n\n  const children = [\n    <PlayToggle key='toggle-play' {...props} />,\n    <VolumeMenuButton key='volume-menu-button' {...props} />,\n    <CurrentTimeDisplay key='current-time-display' player={props.player} />,\n    <ProgressControl key='progress-control' {...props} />,\n    <DurationDisplay key='duration-display' player={props.player} />,\n    <SettingToggle key='setting-popup-toggle' {...props} />,\n    <FullscreenToggle key='full-screen-toggle' {...props} />,\n  ]\n  return (\n    <div className={classNames('control-bar', 'control-bar-auto-hide')}>\n      {children}\n    </div>\n  )\n\n}\nexport default ControlBar\n","const USER_AGENT = typeof window !== 'undefined' && window.navigator ? window.navigator.userAgent : '';\n// const webkitVersionMap = (/AppleWebKit\\/([\\d.]+)/i).exec(USER_AGENT);\n// const appleWebkitVersion = webkitVersionMap ? parseFloat(webkitVersionMap.pop()) : null;\n\n/*\n * Device is an iPhone\n *\n * @type {Boolean}\n * @constant\n * @private\n */\nexport const IS_IPAD = (/iPad/i).test(USER_AGENT);\n\n// The Facebook app's UIWebView identifies as both an iPhone and iPad, so\n// to identify iPhones, we need to exclude iPads.\n// http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/\nexport const IS_IPHONE = (/iPhone/i).test(USER_AGENT) && !IS_IPAD;\nexport const IS_IPOD = (/iPod/i).test(USER_AGENT);\nexport const IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { hasClass } from '../utils/dom';\n\nconst propTypes = {\n  clickable: PropTypes.bool,\n  dblclickable: PropTypes.bool,\n  manager: PropTypes.object,\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  shortcuts: PropTypes.array,\n};\n\nconst defaultProps = {\n  clickable: true,\n  dblclickable: true,\n};\n\nexport default class Shortcut extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.defaultShortcuts = [\n      {\n        keyCode: 32, // spacebar\n        handle: this.togglePlay,\n      },\n      {\n        keyCode: 75, // k\n        handle: this.togglePlay,\n      },\n      {\n        keyCode: 70, // f\n        handle: this.toggleFullscreen,\n      },\n      {\n        keyCode: 37, // Left arrow\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.replay(5, {\n            action: 'replay-5',\n            source: 'shortcut',\n          }); // Go back 5 seconds\n        },\n      },\n      {\n        keyCode: 74, // j\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.replay(10, {\n            action: 'replay-10',\n            source: 'shortcut',\n          }); // Go back 10 seconds\n        },\n      },\n      {\n        keyCode: 39, // Right arrow\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.forward(5, {\n            action: 'forward-5',\n            source: 'shortcut',\n          }); // Go forward 5 seconds\n        },\n      },\n      {\n        keyCode: 76, // l\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.forward(10, {\n            action: 'forward-10',\n            source: 'shortcut',\n          }); // Go forward 10 seconds\n        },\n      },\n      {\n        keyCode: 36, // Home\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.seek(0); // Go to beginning of video\n        },\n      },\n      {\n        keyCode: 35, // End\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          // Go to end of video\n          actions.seek(player.duration);\n        },\n      },\n      {\n        keyCode: 38, // Up arrow\n        handle: (player, actions) => {\n          // Increase volume 5%\n          let v = player.volume + 0.05;\n          if (v > 1) {\n            v = 1;\n          }\n          actions.changeVolume(v, {\n            action: 'volume-up',\n            source: 'shortcut',\n          });\n        },\n      },\n      {\n        keyCode: 40, // Down arrow\n        handle: (player, actions) => {\n          // Decrease volume 5%\n          let v = player.volume - 0.05;\n          if (v < 0) {\n            v = 0;\n          }\n          const action = (v > 0) ? 'volume-down' : 'volume-off';\n          actions.changeVolume(v, {\n            action,\n            source: 'shortcut',\n          });\n        },\n      },\n      {\n        keyCode: 190, // Shift + >\n        shift: true,\n        handle: (player, actions) => {\n          // Increase speed\n          let playbackRate = player.playbackRate;\n          if (playbackRate >= 1.5) {\n            playbackRate = 2;\n          } else if (playbackRate >= 1.25) {\n            playbackRate = 1.5;\n          } else if (playbackRate >= 1.0) {\n            playbackRate = 1.25;\n          } else if (playbackRate >= 0.5) {\n            playbackRate = 1.0;\n          } else if (playbackRate >= 0.25) {\n            playbackRate = 0.5;\n          } else if (playbackRate >= 0) {\n            playbackRate = 0.25;\n          }\n          actions.changeRate(playbackRate, {\n            action: 'fast-forward',\n            source: 'shortcut',\n          });\n        },\n      },\n      {\n        keyCode: 188, // Shift + <\n        shift: true,\n        handle: (player, actions) => {\n          // Decrease speed\n          let playbackRate = player.playbackRate;\n          if (playbackRate <= 0.5) {\n            playbackRate = 0.25;\n          } else if (playbackRate <= 1.0) {\n            playbackRate = 0.5;\n          } else if (playbackRate <= 1.25) {\n            playbackRate = 1.0;\n          } else if (playbackRate <= 1.5) {\n            playbackRate = 1.25;\n          } else if (playbackRate <= 2) {\n            playbackRate = 1.5;\n          }\n          actions.changeRate(playbackRate, {\n            action: 'fast-rewind',\n            source: 'shortcut',\n          });\n        },\n      },\n    ];\n\n    this.shortcuts = [...this.defaultShortcuts];\n\n    this.mergeShortcuts = this.mergeShortcuts.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleDoubleClick = this.handleDoubleClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.mergeShortcuts();\n    document.addEventListener('keydown', this.handleKeyPress);\n    document.addEventListener('click', this.handleClick);\n    document.addEventListener('dblclick', this.handleDoubleClick);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.shortcuts !== this.props.shortcuts) {\n      this.mergeShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyPress);\n    document.removeEventListener('click', this.handleClick);\n    document.removeEventListener('dblclick', this.handleDoubleClick);\n  }\n\n  // merge the shortcuts from props\n  mergeShortcuts() {\n    const gradeShortcut = (s) => {\n      let score = 0;\n      const ps = ['ctrl', 'shift', 'alt'];\n      ps.forEach((key) => {\n        if (s[key]) {\n          score++;\n        }\n      });\n      return score;\n    };\n\n    const shortcuts = (this.props.shortcuts || [])\n      .filter(s => s.keyCode && s.handle && (typeof s.handle === 'function'));\n\n    this.shortcuts = [\n      ...shortcuts,\n      ...this.defaultShortcuts,\n    ].sort((a, b) => gradeShortcut(b) - gradeShortcut(a));\n  }\n\n  togglePlay(player, actions) {\n    if (player.paused) {\n      actions.play({\n        action: 'play',\n        source: 'shortcut',\n      });\n    } else {\n      actions.pause({\n        action: 'pause',\n        source: 'shortcut',\n      });\n    }\n  }\n\n  toggleFullscreen(player, actions) {\n    actions.toggleFullscreen(player);\n  }\n\n  handleKeyPress(e) {\n    const { player, actions } = this.props;\n    if (!player.isActive) {\n      return;\n    }\n    if (document.activeElement && (\n      hasClass(document.activeElement, 'video-control')\n        || hasClass(document.activeElement, 'video-menu-button-active')\n        // || hasClass(document.activeElement, 'video-react-slider')\n        || hasClass(document.activeElement, 'video-big-play-button')\n    )) {\n      return;\n    }\n\n    const keyCode = e.keyCode || e.which;\n    const ctrl = e.ctrlKey || e.metaKey;\n    const shift = e.shiftKey;\n    const alt = e.altKey;\n\n    const shortcut = this.shortcuts.filter((s) => {\n      if (!s.keyCode || s.keyCode - keyCode !== 0) {\n        return false;\n      }\n      if ((s.ctrl !== undefined && s.ctrl !== ctrl)\n        || (s.shift !== undefined && s.shift !== shift)\n        || (s.alt !== undefined && s.alt !== alt)\n      ) {\n        return false;\n      }\n      return true;\n    })[0];\n\n    if (shortcut) {\n      shortcut.handle(player, actions);\n      e.preventDefault();\n    }\n  }\n\n  // only if player is active and player is ready\n  canBeClicked(player, e) {\n    if (!player.isActive\n      || e.target.nodeName !== 'VIDEO'\n      || player.readyState !== 4) {\n      return false;\n    }\n    return true;\n  }\n\n  handleClick(e) {\n    const { player, actions, clickable } = this.props;\n    if (!this.canBeClicked(player, e) || !clickable) {\n      return;\n    }\n    this.togglePlay(player, actions);\n    // e.preventDefault();\n  }\n\n  handleDoubleClick(e) {\n    const { player, actions, dblclickable } = this.props;\n    if (!this.canBeClicked(player, e) || !dblclickable) {\n      return;\n    }\n    this.toggleFullscreen(player, actions);\n    // e.preventDefault();\n  }\n\n  // this component dose not render anything\n  // it's just for the key down event\n  render() {\n    return null;\n  }\n}\n\nShortcut.propTypes = propTypes;\nShortcut.defaultProps = defaultProps;\nShortcut.displayName = 'Shortcut';\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst propTypes = {\n  player: PropTypes.object,\n}\n\nexport default class LoadingSpinner extends React.Component {\n\n  // shouldComponentUpdate (nextProps) {\n  //   return nextProps.player !== this.props.player\n  // }\n  render () {\n    let player = this.props.player\n    if (player.error) {\n      return null\n    }\n    return (\n      <div\n        className='video-loading-spinner'>\n        <div />\n        <div />\n      </div>\n    )\n  }\n}\n\nLoadingSpinner.propTypes = propTypes\nLoadingSpinner.displayName = ' LoadingSpinner'\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst propTypes = {\n  poster: PropTypes.string,\n  player: PropTypes.object,\n  actions: PropTypes.object,\n}\n\nclass BigPlayButton extends React.Component {\n  shouldComponentUpdate (nextProps) {\n    return nextProps.player.hasStarted !== this.props.player.hasStarted\n  }\n\n  render () {\n    const {player, actions} = this.props\n    if (player.hasStarted) {\n      return null\n    }\n    return (\n      <button\n        className=\"video-big-play-button\"\n        onClick={() => {\n          if (player.paused) {\n            actions.play()\n          }\n        }}\n      />\n    )\n  }\n}\n\nBigPlayButton.propTypes = propTypes\nBigPlayButton.displayName = 'BigPlayButton'\n\nexport default BigPlayButton\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classNames from 'classnames'\n\nconst propTypes = {\n  manager: PropTypes.object,\n}\n\nexport default class Bezel extends Component {\n  constructor (props, context) {\n    super(props, context)\n    this.timer = null\n    props.manager.subscribeToOperationStateChange(\n      this.handleStateChange.bind(this))\n    this.state = {\n      hidden: true,\n      operation: {},\n    }\n  }\n\n  handleStateChange (state, prevState) {\n    if (state.count !== prevState.count\n      && state.operation.source === 'shortcut') {\n      if (this.timer) { // previous animation is not finished\n        clearTimeout(this.timer) // cancel it\n        this.timer = null\n      }\n\n      // show it\n      // update operation\n      this.setState({\n        hidden: false,\n        count: state.count,\n        operation: state.operation,\n      })\n      // hide it after 0.5s\n      this.timer = setTimeout(() => {\n        this.setState({\n          hidden: true,\n        })\n        this.timer = null\n      }, 500)\n    }\n  }\n\n  render () {\n    // only displays for shortcut so far\n    if (this.state.operation.source !== 'shortcut') {\n      return null\n    }\n    const style = this.state.hidden ? {\n      display: 'block',\n    } : null\n\n    return (\n      <div\n        className={classNames({\n          'video-bezel': true,\n          'video-bezel-animation': this.state.count % 2 === 0,\n          'video-bezel-animation-alt': this.state.count % 2 === 1,\n        })}\n        style={style}\n        role=\"status\"\n        aria-label={this.state.operation.action}\n      >\n        <div\n          className={classNames(\n            'ekiio-video-bezel-icon',\n            `ekiio-video-bezel-icon-${this.state.operation.action}`,\n          )}\n        />\n      </div>\n    )\n  }\n}\nBezel.propTypes = propTypes\nBezel.displayName = 'Bezel'\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classNames from 'classnames'\n\nimport Manager from '../Manager'\n// import BigPlayButton from './BigPlayButton';\n// import LoadingSpinner from './LoadingSpinner';\n// import BigPlayButton from './BigPlayButton';\nimport Video from './Video'\n// import Bezel from './Bezel';\n// import Shortcut from './Shortcut';\nimport ControlBar from './control-bar/ControlBar'\nimport * as browser from '../utils/browser'\nimport { throttle } from '../utils'\nimport fullscreen from '../utils/fullscreen'\nimport Shortcut from './Shortcut'\nimport LoadingSpinner from './LoadingSpinner'\nimport BigPlayButton from './BigPlayButton'\nimport Bezel from './Bezel'\n\nconst propTypes = {\n  children: PropTypes.any,\n  muted: PropTypes.bool,\n  playsInline: PropTypes.bool,\n  aspectRatio: PropTypes.string,\n  className: PropTypes.string,\n  videoId: PropTypes.string,\n  startTime: PropTypes.number,\n  loop: PropTypes.bool,\n  autoPlay: PropTypes.bool,\n  src: PropTypes.string,\n  poster: PropTypes.string,\n  preload: PropTypes.oneOf(['auto', 'metadata', 'none']),\n\n  onLoadStart: PropTypes.func,\n  onWaiting: PropTypes.func,\n  onCanPlay: PropTypes.func,\n  onCanPlayThrough: PropTypes.func,\n  onPlaying: PropTypes.func,\n  onEnded: PropTypes.func,\n  onSeeking: PropTypes.func,\n  onSeeked: PropTypes.func,\n  onPlay: PropTypes.func,\n  onPause: PropTypes.func,\n  onProgress: PropTypes.func,\n  onDurationChange: PropTypes.func,\n  onError: PropTypes.func,\n  onSuspend: PropTypes.func,\n  onAbort: PropTypes.func,\n  onEmptied: PropTypes.func,\n  onStalled: PropTypes.func,\n  onLoadedMetadata: PropTypes.func,\n  onLoadedData: PropTypes.func,\n  onTimeUpdate: PropTypes.func,\n  onRateChange: PropTypes.func,\n  onVolumeChange: PropTypes.func,\n\n  store: PropTypes.object,\n}\n\nconst defaultProps = {\n  muted: false,\n  playsInline: false,\n  aspectRatio: 'auto',\n}\n\nexport default class Player extends Component {\n  constructor (props) {\n    super(props)\n    this.controlsHideTimer = null\n    this.video = null // the Video component\n    this.manager = new Manager(props.store)\n    this.actions = this.manager.getActions()\n    this.manager.subscribeToPlayerStateChange(\n      this.handleStateChange.bind(this))\n\n    this.handleResize = this.handleResize.bind(this)\n    this.getChildren = this.getChildren.bind(this)\n    this.handleMouseMove = throttle(this.handleMouseMove.bind(this), 250)\n    this.handleMouseDown = this.handleMouseDown.bind(this)\n    this.startControlsTimer = this.startControlsTimer.bind(this)\n    this.handleFullScreenChange = this.handleFullScreenChange.bind(this)\n    this.handleKeyDown = this.handleKeyDown.bind(this)\n    this.handleFocus = this.handleFocus.bind(this)\n    this.handleBlur = this.handleBlur.bind(this)\n  }\n\n  componentDidMount () {\n    this.handleResize()\n    window.addEventListener('resize', this.handleResize)\n\n    fullscreen.addEventListener(this.handleFullScreenChange)\n  }\n\n  componentWillUnmount () {\n    // Remove event listener\n    window.removeEventListener('resize', this.handleResize)\n    fullscreen.removeEventListener(this.handleFullScreenChange)\n    if (this.controlsHideTimer) {\n      window.clearTimeout(this.controlsHideTimer)\n    }\n  }\n\n  getChildren (props) {\n    //necessary props\n    let nps = {actions: props.actions, player: props.player}\n\n    return [\n      <Video\n        ref={(c) => {\n          this.video = c\n          this.manager.video = this.video\n        }}\n        key=\"video\"\n        {...props}\n      />,\n      <ControlBar key=\"control-bar\"\n                  {...nps} toggleSetting={props.toggleSetting} />,\n      <Shortcut key=\"short-cut\"\n                {...nps} />,\n      <LoadingSpinner key='loading-spinner' player={props.player} />,\n      <BigPlayButton key='big-play-button' {...nps} />,\n      <Bezel key='bezel' manager={props.manager} />,\n    ]\n\n  }\n\n  getState () {\n    return this.manager.getState()\n  }\n\n  // get playback rate\n  get playbackRate () {\n    return this.video.playbackRate\n  }\n\n  // set playback rate\n  // speed of video\n  set playbackRate (rate) {\n    this.video.playbackRate = rate\n  }\n\n  get muted () {\n    return this.video.muted\n  }\n\n  set muted (val) {\n    this.video.muted = val\n  }\n\n  get volume () {\n    return this.video.volume\n  }\n\n  set volume (val) {\n    this.video.volume = val\n  }\n\n  // video width\n  get videoWidth () {\n    return this.video.videoWidth\n  }\n\n  // video height\n  get videoHeight () {\n    return this.video.videoHeight\n  }\n\n  // play the video\n  play () {\n    this.video.play()\n  }\n\n  // pause the video\n  pause () {\n    this.video.pause()\n  }\n\n  // Change the video source and re-load the video:\n  load () {\n    this.video.load()\n  }\n\n  // Add a new text track to the video\n  addTextTrack (...args) {\n    this.video.addTextTrack(...args)\n  }\n\n  // Check if your browser can play different types of video:\n  canPlayType (...args) {\n    this.video.canPlayType(...args)\n  }\n\n  // seek video by time\n  seek (time) {\n    this.video.seek(time)\n  }\n\n  // jump forward x seconds\n  forward (seconds) {\n    this.video.forward(seconds)\n  }\n\n  // jump back x seconds\n  replay (seconds) {\n    this.video.replay(seconds)\n  }\n\n  // enter or exist full screen\n  toggleFullscreen () {\n    this.video.toggleFullscreen()\n  }\n\n  // subscribe to player state change\n  subscribeToStateChange (listener) {\n    return this.manager.subscribeToPlayerStateChange(listener)\n  }\n\n  // player resize\n  handleResize () {\n  }\n\n  handleFullScreenChange () {\n    this.actions.handleFullscreenChange(fullscreen.isFullscreen)\n  }\n\n  handleMouseDown () {\n    this.startControlsTimer()\n  }\n\n  handleMouseMove () {\n    this.startControlsTimer()\n  }\n\n  handleKeyDown () {\n    this.startControlsTimer()\n  }\n\n  startControlsTimer () {\n    this.actions.userActivate(true)\n    clearTimeout(this.controlsHideTimer)\n    this.controlsHideTimer = setTimeout(() => {\n      this.actions.userActivate(false)\n    }, 3000)\n  }\n\n  handleStateChange (state, prevState) {\n    if (state.isFullscreen !== prevState.isFullscreen) {\n      this.handleResize()\n    }\n    this.forceUpdate() // re-render\n  }\n\n  handleFocus () {\n    this.actions.activate(true)\n  }\n\n  handleBlur () {\n    this.actions.activate(false)\n  }\n\n  render () {\n    const {fluid} = this.props\n    const {player} = this.manager.getState()\n    const {paused, hasStarted, waiting, seeking, isFullscreen, userActivity} = player\n\n    const props = {\n      ...this.props,\n      player,\n      src: this.props.src,\n      actions: this.actions,\n      manager: this.manager,\n      store: this.manager.store,\n      video: this.video ? this.video.video : null,\n    }\n    const children = this.getChildren(props)\n\n    return (\n      <div\n        className={classNames({\n          'video-has-started': hasStarted,\n          'video-paused': paused,\n          'video-playing': !paused,\n          'video-waiting': waiting,\n          'video-seeking': seeking,\n          'video-fluid': fluid,\n          'video-fullscreen': isFullscreen,\n          'video-user-inactive': !userActivity,\n          'video-user-active': userActivity,\n          'video-workinghover': !browser.IS_IOS,\n        }, 'ekiio-video-player', this.props.className)}\n        ref={(c) => {\n          this.manager.rootElement = c\n        }}\n        onTouchStart={this.handleMouseDown}\n        onMouseDown={this.handleMouseDown}\n        onMouseMove={this.handleMouseMove}\n        onKeyDown={this.handleKeyDown}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        tabIndex=\"-1\"\n      >\n        {children}\n      </div>\n    )\n  }\n}\n\nPlayer.contextTypes = {store: PropTypes.object}\nPlayer.propTypes = propTypes\nPlayer.defaultProps = defaultProps\nPlayer.displayName = 'Player'\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n}\nexport default class ChangeSubVi extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n  }\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render () {\n    return (\n      <button className=\"btn-switch-sub\" type=\"button\"\n              onClick={this.props.toggleSubVi}>\n        VI/EN\n      </button>\n    )\n  }\n}\n\nChangeSubVi.propTypes = propTypes\n"],"names":["getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","undefined","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","forEach","letter","keys","err","target","source","from","to","symbols","s","arguments","length","key","call","ReactPropTypesSecret","emptyFunction","shim","props","propName","componentName","location","propFullName","secret","Error","name","isRequired","getShim","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","module","require$$1","hasOwn","classNames","classes","arg","argType","push","Array","isArray","inner","apply","exports","default","window","symbolObservablePonyfill","root","result","Symbol","observable","self","global","Function","ponyfill","ActionTypes","INIT","Math","random","toString","substring","REPLACE","_typeof","babelHelpers.typeof","iterator","obj","constructor","isPlainObject","proto","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","listener","isSubscribed","unsubscribe","index","indexOf","splice","dispatch","action","type","listeners","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","next","$$observable","LOAD_START","CAN_PLAY","WAITING","CAN_PLAY_THROUGH","PLAYING","PLAY","PAUSE","END","SEEKING","SEEKED","SEEKING_TIME","END_SEEKING","DURATION_CHANGE","TIME_UPDATE","VOLUME_CHANGE","PROGRESS_CHANGE","RATE_CHANGE","SUSPEND","ABORT","EMPTIED","STALLED","LOADED_META_DATA","LOADED_DATA","RESIZE","ERROR","handleLoadStart","videoProps","handleCanPlay","handleWaiting","handleCanPlayThrough","handlePlaying","handlePlay","handlePause","handleEnd","handleSeeking","handleSeeked","handleDurationChange","handleTimeUpdate","handleVolumeChange","handleProgressChange","handleRateChange","handleSuspend","handleAbort","handleEmptied","handleStalled","handleLoadedMetaData","handleLoadedData","handleResize","handleError","handleSeekingTime","time","handleEndSeeking","Fullscreen","elm","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","document","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","handler","addEventListener","removeEventListener","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","OPERATE","FULLSCREEN_CHANGE","PLAYER_ACTIVATE","USER_ACTIVATE","handleFullscreenChange","isFullscreen","activate","activity","userActivate","play","operation","video","pause","togglePlay","seek","forward","seconds","replay","changeRate","rate","playbackRate","changeVolume","volume","v","mute","muted","toggleFullscreen","player","fullscreen","enabled","exit","request","rootElement","initialState","currentSrc","duration","currentTime","seekingTime","buffered","waiting","seeking","paused","autoPaused","ended","readyState","networkState","videoWidth","videoHeight","hasStarted","userActivity","isActive","state","error","newState","count","Manager","store","manager","actions","playerActions","videoActions","bindActionCreator","actionCreator","bindAction","filter","reduce","boundActions","bind","prevState","handleChange","prevStateCopy","subscribeToStateChange","formatTime","guide","floor","m","h","gm","gh","isNaN","Infinity","isVideoChild","c","throttle","callback","limit","wait","setTimeout","mediaProperties","propTypes","children","startTime","loop","autoPlay","playsInline","src","poster","className","preload","crossOrigin","onLoadStart","onWaiting","onCanPlay","onCanPlayThrough","onPlaying","onEnded","onSeeking","onSeeked","onPlay","onPause","onProgress","onDurationChange","onError","onSuspend","onAbort","onEmptied","onStalled","onLoadedMetadata","onLoadedData","onTimeUpdate","onRateChange","onVolumeChange","onResize","defaultProps","Video","getProperties","renderChildren","handleEnded","handleProgress","handleKeypress","forceUpdate","properties","promise","catch","then","load","addTextTrack","canPlayType","e","React","Children","toArray","cprops","preOnError","cloneElement","videoId","Component","displayName","PlayToggle","nextProps","handleClick","tagName","onClick","onFocus","onBlur","ClickableComponent","context","handleFocus","handleBlur","event","which","preventDefault","findElPosition","el","box","getBoundingClientRect","parentNode","left","top","docEl","documentElement","body","clientLeft","scrollLeft","pageXOffset","clientTop","scrollTop","pageYOffset","round","getPointerPosition","position","boxW","offsetWidth","boxH","offsetHeight","boxY","boxX","pageY","pageX","changedTouches","y","max","min","x","hasClass","cls","toLowerCase","onMouseDown","onMouseMove","stepForward","stepBack","sliderActive","sliderInactive","onMouseUp","getPercent","vertical","label","valuenow","valuetext","Slider","handleMouseDown","handleMouseMove","handleMouseUp","handleKeyPress","calculateDistance","getProgress","active","progress","setState","distance","stopPropagation","findDOMNode","Dom","percentage","toFixed","child","VolumeLevel","width","VolumeBar","handlePercentageChange","checkMuted","slider","VolumeMenuButton","level","volumeLevel","PlayProgressBar","LoadProgressBar","bufferedEnd","end","style","percentify","percent","parts","start","part","MouseTimeDisplay","mouseTime","text","SeekBar","getNewTime","newTime","input","ProgressControl","handleMouseMoveThrottle","seekBar","FullscreenToggle","button","SettingToggle","toggleSetting","PureComponent","CurrentTimeDisplay","formattedTime","DurationDisplay","ControlBar","USER_AGENT","navigator","userAgent","IS_IPAD","test","IS_IPHONE","IS_IPOD","IS_IOS","clickable","dblclickable","shortcuts","Shortcut","defaultShortcuts","keyCode","handle","shift","mergeShortcuts","handleDoubleClick","prevProps","gradeShortcut","score","ps","sort","a","b","activeElement","ctrl","ctrlKey","metaKey","shiftKey","alt","altKey","shortcut","nodeName","canBeClicked","LoadingSpinner","BigPlayButton","Bezel","timer","subscribeToOperationStateChange","handleStateChange","hidden","clearTimeout","display","aspectRatio","Player","controlsHideTimer","getActions","subscribeToPlayerStateChange","getChildren","startControlsTimer","handleFullScreenChange","handleKeyDown","nps","fluid","browser","contextTypes","ChangeSubVi","toggleSubVi"],"mappings":"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"}